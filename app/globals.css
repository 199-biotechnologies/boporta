@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --font-playfair: 'Playfair Display', serif;
    --font-crimson: 'Crimson Text', serif;
    --font-inter: 'Inter', sans-serif;
  }

  * {
    @apply border-0;
  }

  body {
    @apply bg-bone text-midnight antialiased;
  }

  html {
    scroll-behavior: smooth;
  }

  /* Respect user's motion preferences (WCAG 2.1 Level AA) */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Global focus styles for accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-crimson ring-offset-2;
  }

  /* Enhanced link visibility */
  a:not(.btn-primary):not(.btn-secondary) {
    @apply underline decoration-1 underline-offset-2 decoration-titanium/40 hover:decoration-crimson transition-colors duration-200;
  }

  /* Button focus states */
  button:focus-visible,
  a.btn-primary:focus-visible,
  a.btn-secondary:focus-visible {
    @apply ring-2 ring-crimson ring-offset-2;
  }
}

@layer components {
  /* Section Padding System - 8pt grid compliant */
  .section-padding-sm {
    @apply py-12 md:py-16;  /* 48px → 64px */
  }

  .section-padding-md {
    @apply py-16 md:py-24;  /* 64px → 96px */
  }

  .section-padding-lg {
    @apply py-24 md:py-32;  /* 96px → 128px */
  }

  /* Legacy support - map to medium */
  .section-padding {
    @apply py-24 md:py-32;  /* Updated from py-32 md:py-64 (was too large) */
  }

  .container-custom {
    @apply max-w-[1200px] mx-auto px-6 md:px-16;
  }

  .btn-primary {
    @apply bg-crimson text-bone px-12 py-4 font-sans font-semibold uppercase tracking-wider
    transition-all duration-200 ease-out
    hover:translate-y-[-2px] hover:shadow-[0_6px_16px_rgba(139,0,0,0.4)]
    active:translate-y-0 active:shadow-[0_2px_8px_rgba(139,0,0,0.3)]
    relative overflow-hidden;
  }

  .btn-primary::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent
    translate-x-[-100%] transition-transform duration-500;
  }

  .btn-primary:hover::before {
    @apply translate-x-[100%];
  }

  .btn-secondary {
    @apply border-2 border-bone text-bone px-12 py-4 font-sans font-semibold uppercase tracking-wider
    transition-all duration-200 ease-out
    hover:bg-bone hover:text-midnight hover:border-bone
    active:scale-[0.98]
    relative overflow-hidden;
  }

  .btn-secondary::before {
    content: '';
    @apply absolute inset-0 bg-bone scale-x-0 transition-transform duration-300 ease-out origin-left;
  }

  .btn-secondary:hover::before {
    @apply scale-x-100;
  }

  .btn-secondary span {
    @apply relative z-10;
  }

  .divider-line {
    @apply w-px h-16 bg-titanium;
  }
}

@layer utilities {
  /*
   * ANIMATION TIMING STANDARDS
   * --------------------------
   * Micro (buttons, hovers):         200ms
   * Standard (tooltips, dropdowns):  300ms
   * Complex (accordions, modals):    500ms
   * Hero/Entrance animations:        800ms+
   *
   * EASING STANDARDS
   * ----------------
   * Entrances:                       ease-out
   * Exits:                          ease-in
   * State changes:                  ease-out
   * Jony Ive animations:            cubic-bezier(0.16,1,0.3,1)
   *
   * OPACITY SCALE STANDARDS
   * ----------------------
   * Primary (100):     Full opacity - headings, primary text
   * Secondary (80):    Body text, readable content
   * Tertiary (60):     Metadata, labels, supporting text
   * Disabled (40):     Inactive elements, subtle borders
   * Subtle (20):       Very light backgrounds, ghost effects
   *
   * Usage Examples:
   * - text-bone/80     → Body text on dark backgrounds
   * - text-midnight/80 → Body text on light backgrounds
   * - text-bone/60     → Labels/metadata on dark backgrounds
   * - text-midnight/60 → Labels/metadata on light backgrounds
   * - border-crimson/40 → Subtle accent borders
   * - bg-midnight/20   → Ghost/hover backgrounds
   */

  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-in-scale {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.8s ease-out forwards;
  }

  .animate-fade-in-delay-1 {
    animation: fade-in 0.8s ease-out 0.2s forwards;
    opacity: 0;
  }

  .animate-fade-in-delay-2 {
    animation: fade-in 0.8s ease-out 0.4s forwards;
    opacity: 0;
  }

  .animate-fade-in-delay-3 {
    animation: fade-in 0.8s ease-out 0.6s forwards;
    opacity: 0;
  }

  .animate-fade-in-delay-4 {
    animation: fade-in 0.8s ease-out 0.8s forwards;
    opacity: 0;
  }

  .animate-on-scroll {
    animation: fade-in-scale 0.6s ease-out forwards;
  }

  /* Jony Ive-inspired subtle animations */
  @keyframes slideInLeft {
    from {
      opacity: 0;
      transform: translateX(-40px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(40px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes fadeInScale {
    0% {
      opacity: 0;
      transform: scaleY(0);
    }
    50% {
      opacity: 0.5;
      transform: scaleY(0.5);
    }
    100% {
      opacity: 1;
      transform: scaleY(1);
    }
  }

  /* Hero Animation Classes - Jony Ive Style */
  .animate-hero-slide-left {
    animation: slideInLeft 1.2s cubic-bezier(0.16,1,0.3,1) 0.3s both;
  }

  .animate-hero-slide-right {
    animation: slideInRight 1.2s cubic-bezier(0.16,1,0.3,1) 0.3s both;
  }

  .animate-hero-divider {
    animation: fadeInScale 1.5s cubic-bezier(0.16,1,0.3,1) 0.8s both;
  }

  /* Hero SVG Icon Animations - Subtle & Professional */
  @keyframes heroIconFloat {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-8px);
    }
  }

  @keyframes heroIconFadeIn {
    0% {
      opacity: 0;
      transform: scale(0.9) translateY(10px);
    }
    100% {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  .animate-hero-icon {
    animation: heroIconFadeIn 1.2s cubic-bezier(0.16,1,0.3,1) 0.2s both,
               heroIconFloat 6s ease-in-out 1.5s infinite;
    transition: transform 300ms cubic-bezier(0.16,1,0.3,1);
  }

  .animate-hero-icon:hover {
    transform: scale(1.08) translateY(-4px);
    animation-play-state: paused; /* Pause float on hover */
  }
}
